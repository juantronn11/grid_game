{% extends "base.html" %}
{% block content %}
<div class="card center-card">
    <h2>Welcome</h2>
    <p>Create a new game grid or join an existing one.</p>

    <a href="{{ url_for('create_game') }}" class="btn btn-primary">Create New Game</a>

    <div class="divider">or</div>

    <form action="{{ url_for('index') }}" method="get" class="join-form" id="joinForm">
        <input type="text" id="gameId" placeholder="Enter Game Code" maxlength="8" class="input" style="text-transform:uppercase">
        <button type="button" class="btn btn-secondary" onclick="joinGame()">Join Game</button>
    </form>

    <p style="margin-top:1.5rem;font-size:0.85rem;color:#8b949e;">Returning player? <a href="{{ url_for('recover') }}" style="color:#58a6ff;">Recover your games</a></p>
</div>

<script>
function joinGame() {
    const id = document.getElementById('gameId').value.trim().toUpperCase();
    if (id) window.location.href = '/game/' + id;
}
document.getElementById('gameId').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') { e.preventDefault(); joinGame(); }
});
</script>
{% endblock %}
