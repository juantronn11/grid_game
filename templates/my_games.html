{% extends "base.html" %}
{% block title %}My Games{% endblock %}
{% block content %}
<div class="dash-header">
    <h2>My Games</h2>
</div>

{% if not games %}
<div class="card center-card">
    <p>You haven't joined any games yet.</p>
    <a href="{{ url_for('index') }}" class="btn btn-primary">Join a Game</a>
</div>
{% else %}
<div class="game-cards">
    {% for g in games %}
    <div class="game-card">
        <div class="game-card-header">
            <h3>{{ g.name }}</h3>
            <span class="badge">{{ g.claim_count }}/100</span>
        </div>
        <div class="game-card-stats">
            <span>Playing as: <strong>{{ g.player_name }}</strong></span>
        </div>
        <div class="game-card-status">
            {% if g.locked %}
                <span class="badge badge-red">Locked</span>
            {% endif %}
            {% if g.numbers_released %}
                <span class="badge badge-green">Numbers Released</span>
            {% else %}
                <span class="badge">In Progress</span>
            {% endif %}
        </div>
        <div class="game-card-actions">
            <a href="{{ url_for('game_view', game_id=g.id) }}" class="btn btn-secondary btn-small">View Grid</a>
            {% if g.numbers_released %}
            <a href="{{ url_for('player_pdf', game_id=g.id) }}" class="btn btn-secondary btn-small">Download PDF</a>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
{% endif %}
{% endblock %}
